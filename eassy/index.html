# Markdown 预览工具设计与实现

我将创建一个美观实用的Markdown预览工具，支持实时渲染和代码高亮，并可直接部署到GitHub Pages。

## 设计思路
- 左侧为Markdown编辑区域
- 右侧为实时预览区域
- 支持代码语法高亮
- 响应式布局适应不同设备
- 简洁现代的设计风格

## 最终实现代码

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown 实时预览工具</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.18/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }
        
        header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }
        
        h1 {
            color: white;
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .subtitle {
            color: rgba(255, 255, 255, 0.85);
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .app-container {
            display: flex;
            gap: 20px;
            height: 70vh;
            margin-bottom: 30px;
        }
        
        .editor-container, .preview-container {
            flex: 1;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .panel-header {
            background: #f8f9fa;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #e9ecef;
        }
        
        .panel-title {
            font-weight: 600;
            color: #495057;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .panel-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            background: #4dabf7;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .btn:hover {
            background: #339af0;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .btn i {
            font-size: 0.9rem;
        }
        
        .panel-content {
            flex: 1;
            overflow: auto;
            padding: 20px;
        }
        
        #markdown-input {
            width: 100%;
            height: 100%;
            border: none;
            resize: none;
            font-size: 16px;
            line-height: 1.6;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
            padding: 5px;
        }
        
        #markdown-input:focus {
            outline: none;
        }
        
        #preview-output {
            height: 100%;
            overflow: auto;
            line-height: 1.6;
        }
        
        #preview-output h1, 
        #preview-output h2, 
        #preview-output h3 {
            margin-top: 1.5em;
            margin-bottom: 0.8em;
            color: #2c3e50;
        }
        
        #preview-output h1 {
            border-bottom: 2px solid #eee;
            padding-bottom: 0.3em;
        }
        
        #preview-output h2 {
            border-bottom: 1px solid #eee;
            padding-bottom: 0.3em;
        }
        
        #preview-output p {
            margin-bottom: 1em;
        }
        
        #preview-output pre {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            overflow: auto;
        }
        
        #preview-output code {
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.95em;
        }
        
        #preview-output blockquote {
            border-left: 4px solid #4dabf7;
            background: #f8f9fa;
            padding: 10px 20px;
            margin: 15px 0;
            color: #495057;
        }
        
        #preview-output table {
            border-collapse: collapse;
            width: 100%;
            margin: 15px 0;
        }
        
        #preview-output table th, 
        #preview-output table td {
            border: 1px solid #dee2e6;
            padding: 8px 12px;
            text-align: left;
        }
        
        #preview-output table th {
            background-color: #e9ecef;
            font-weight: 600;
        }
        
        #preview-output ul, 
        #preview-output ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        #preview-output li {
            margin-bottom: 5px;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .feature-card h3 i {
            color: #4dabf7;
            font-size: 1.4rem;
        }
        
        .feature-card p {
            color: #495057;
            line-height: 1.6;
        }
        
        footer {
            text-align: center;
            color: rgba(255, 255, 255, 0.8);
            padding: 20px 0;
            margin-top: auto;
        }
        
        @media (max-width: 900px) {
            .app-container {
                flex-direction: column;
                height: auto;
            }
            
            .editor-container, .preview-container {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-markdown"></i> Markdown 实时预览工具</h1>
            <p class="subtitle">在左侧编辑Markdown内容，右侧实时预览渲染效果。支持表格、代码块、列表等常用语法。</p>
        </header>
        
        <div class="app-container">
            <div class="editor-container">
                <div class="panel-header">
                    <div class="panel-title">
                        <i class="fas fa-edit"></i> Markdown 编辑器
                    </div>
                    <div class="panel-actions">
                        <button class="btn" id="clear-btn">
                            <i class="fas fa-trash"></i> 清空
                        </button>
                        <button class="btn" id="example-btn">
                            <i class="fas fa-lightbulb"></i> 示例
                        </button>
                    </div>
                </div>
                <div class="panel-content">
                    <textarea id="markdown-input" spellcheck="false"># Markdown 预览工具

这是一个 **实时 Markdown 预览工具**，支持所有标准Markdown语法。

## 基本语法示例

### 文本样式
- **粗体文本**
- *斜体文本*
- ~~删除线文本~~
- `行内代码`

### 列表
1. 有序列表项 1
2. 有序列表项 2
   - 无序子项 1
   - 无序子项 2

### 链接与图片
[GitHub](https://github.com)
![Markdown Logo](https://markdown-here.com/img/icon256.png)

### 引用
> 这是一个引用块。可以在其中包含其他Markdown元素。

### 代码块
```javascript
// JavaScript 代码示例
function greet(name) {
  console.log(`Hello, ${name}!`);
}
greet('World');
```

```python
# Python 代码示例
def factorial(n):
    if n == 0:
        return 1
    else:
        return n * factorial(n-1)
```

### 表格
| 功能       | 是否支持 |
|------------|----------|
| 标题       | ✓        |
| 列表       | ✓        |
| 代码块     | ✓        |
| 表格       | ✓        |
| 数学公式   | ✗        |
</textarea>
                </div>
            </div>
            
            <div class="preview-container">
                <div class="panel-header">
                    <div class="panel-title">
                        <i class="fas fa-eye"></i> 实时预览
                    </div>
                    <div class="panel-actions">
                        <button class="btn" id="export-html">
                            <i class="fas fa-download"></i> 导出HTML
                        </button>
                    </div>
                </div>
                <div class="panel-content">
                    <div id="preview-output"></div>
                </div>
            </div>
        </div>
        
        <div class="features">
            <div class="feature-card">
                <h3><i class="fas fa-code"></i> 语法高亮</h3>
                <p>支持多种编程语言的代码高亮显示，包括 JavaScript、Python、Java、C++ 等，使代码更易读。</p>
            </div>
            <div class="feature-card">
                <h3><i class="fas fa-sync-alt"></i> 实时渲染</h3>
                <p>在输入的同时即时渲染 Markdown 内容，无需手动刷新，提供流畅的编辑体验。</p>
            </div>
            <div class="feature-card">
                <h3><i class="fas fa-mobile-alt"></i> 响应式设计</h3>
                <p>在各种设备上都能完美显示，从桌面电脑到移动设备，随时随地编辑 Markdown。</p>
            </div>
        </div>
    </div>
    
    <footer>
        <p>© 2023 Markdown 预览工具 | 部署在 GitHub Pages | 使用 marked.js 和 highlight.js</p>
    </footer>
    
    <script>
        // 配置 marked
        marked.setOptions({
            breaks: true,
            highlight: function(code, lang) {
                if (lang && hljs.getLanguage(lang)) {
                    try {
                        return hljs.highlight(code, { language: lang }).value;
                    } catch (e) {
                        console.error(e);
                    }
                }
                return hljs.highlightAuto(code).value;
            }
        });
        
        // 获取DOM元素
        const markdownInput = document.getElementById('markdown-input');
        const previewOutput = document.getElementById('preview-output');
        const clearBtn = document.getElementById('clear-btn');
        const exampleBtn = document.getElementById('example-btn');
        const exportHtmlBtn = document.getElementById('export-html');
        
        // 初始渲染
        updatePreview();
        
        // 输入事件监听
        markdownInput.addEventListener('input', updatePreview);
        
        // 清空按钮
        clearBtn.addEventListener('click', () => {
            if (confirm('确定要清空编辑器内容吗？')) {
                markdownInput.value = '';
                updatePreview();
            }
        });
        
        // 示例按钮
        exampleBtn.addEventListener('click', () => {
            markdownInput.value = `# 欢迎使用 Markdown 预览工具

## 这是一个示例文档

### 功能特点
- **实时预览** - 所见即所得
- **代码高亮** - 支持多种语言
- **响应式设计** - 适配各种设备
- **导出功能** - 可导出为HTML文件

### 数学公式示例（仅显示）
行内公式：\\( E = mc^2 \\)

块级公式：
\\[ \\int_0^\\infty e^{-x^2} dx = \\frac{\\sqrt{\\pi}}{2} \\]

> 注意：本工具使用标准Markdown语法，数学公式需要额外支持

### 表格示例
| 项目        | 价格   | 数量 |
|-------------|--------|------|
| 笔记本      | $1200 | 5    |
| 手机        | $800  | 12   |
| 平板        | $650  | 7    |
`;
            updatePreview();
        });
        
        // 导出HTML按钮
        exportHtmlBtn.addEventListener('click', () => {
            const htmlContent = `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Exported Markdown Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/github.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        pre {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow: auto;
        }
        code {
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
    </style>
</head>
<body>
${previewOutput.innerHTML}
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</body>
</html>
            `;
            
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = 'markdown-export.html';
            document.body.appendChild(a);
            a.click();
            
            setTimeout(() => {
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }, 100);
        });
        
        // 更新预览函数
        function updatePreview() {
            const markdownText = markdownInput.value;
            previewOutput.innerHTML = marked.parse(markdownText);
            
            // 高亮所有代码块
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightElement(block);
            });
        }
    </script>
</body>
</html>
```

## 功能说明

这个Markdown预览工具具有以下功能：

1. **实时预览**：在左侧编辑Markdown时，右侧会实时显示渲染效果
2. **语法高亮**：支持多种编程语言的代码高亮显示
3. **响应式设计**：在桌面和移动设备上都能良好显示
4. **示例文档**：提供示例Markdown文档帮助用户快速上手
5. **导出功能**：可将渲染结果导出为HTML文件
6. **清空功能**：一键清空编辑器内容

## 部署到GitHub Pages的步骤

1. 在GitHub上创建一个新仓库
2. 将上面的HTML文件保存为`index.html`
3. 将文件推送到仓库的main分支
4. 在仓库设置中，找到"GitHub Pages"部分
5. 设置Source为"main branch"或"master branch"
6. 点击保存，几分钟后即可通过`https://<username>.github.io/<repository-name>`访问

这个工具使用了marked.js进行Markdown解析，highlight.js进行代码高亮，以及Font Awesome图标库，所有依赖都通过CDN加载，无需额外安装。
